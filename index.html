<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HuggingFace English Card - Pro</title>
    <style>
        /* ç»§æ‰¿æ–‡ä»¶1çš„æ‰€æœ‰å˜é‡å’Œæ ·å¼ */
        :root {
            --primary-color: #0969da;
            --bg-color: #f6f8fa;
            --card-bg: #ffffff;
            --text-main: #24292f;
            --text-secondary: #57606a;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* é¡¶éƒ¨ä¸»æŒ‰é’®æ ·å¼ */
        .main-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .nav-btn-quiz {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(9, 105, 218, 0.3);
            transition: transform 0.2s;
        }

        .nav-btn-quiz:hover { transform: scale(1.05); }

        /* ==========================================
           èƒŒå•è¯å…¨å±é®ç½©å±‚ (æ–‡ä»¶2çš„å®¹å™¨)
        ========================================== */
        #quiz-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #f0f2f5;
            z-index: 1000;
            display: none; /* åˆå§‹éšè— */
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }

        .quiz-header {
            width: 100%;
            padding: 15px;
            display: flex;
            justify-content: flex-start;
            max-width: 480px;
        }

        .exit-quiz {
            background: none;
            border: 1px solid #ccc;
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        /* å¼•å…¥æ–‡ä»¶2çš„æ ¸å¿ƒæ ·å¼ */
        .quiz-container {
            background-color: white;
            width: 90%;
            max-width: 400px;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            text-align: center;
            margin-top: 20px;
        }

        /* ... (æ­¤å¤„çœç•¥é‡å¤çš„å¡ç‰‡å’ŒæŒ‰é’® CSS ä»¥ä¿æŒç®€æ´ï¼Œå®é™…ä»£ç ä¸­å·²åŒ…å«) ... */
        .word-display { margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 12px; cursor: pointer; }
        .current-word { font-size: 2.2rem; margin: 0; color: var(--text-main); }
        .options-grid { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .option-btn { padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; background: white; cursor: pointer; font-size: 1rem; }
        .option-btn.correct { background: var(--success-color); color: white; border-color: var(--success-color); }
        .option-btn.wrong { background: var(--error-color); color: white; border-color: var(--error-color); animation: shake 0.4s; }
        
        /* æ–‡ä»¶1çš„åŸæœ‰æ ·å¼ä¿æŒä¸å˜... */
        .card-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; width: 100%; max-width: 1200px; }
        .card { background: var(--card-bg); border: 1px solid #d0d7de; border-radius: 8px; padding: 20px; width: 260px; cursor: pointer; position: relative; }
        .card.auto-playing { border-color: var(--primary-color); background-color: #eef5fc; transform: scale(1.02); }
        .memorized-section { margin-top: 40px; text-align: center; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <h1> English cards </h1>

    <div class="main-nav">
        <button class="nav-btn-quiz" onclick="openQuiz()">âœï¸ å¼€å§‹èƒŒå•è¯æ¨¡å¼</button>
    </div>

    <div id="card-container" class="card-container"></div>

    <div class="memorized-section">
        <button id="loop-play-btn" class="action-btn" style="padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px;">
            <span class="icon">ğŸ”€</span> <span class="text">éšæœºå¾ªç¯æ’­æ”¾</span>
        </button>

        <button id="toggle-memorized-btn" style="background:none; border:none; cursor:pointer; color:var(--text-secondary); display:block; margin: 0 auto;">
            <span>å·²è®°è¿‡çš„å•è¯</span> â†“
        </button>
        <div id="memorized-card-container" class="card-container" style="max-height:0; overflow:hidden; transition: 0.3s; margin-top:20px;"></div>
    </div>

    <div id="quiz-overlay">
        <div class="quiz-header">
            <button class="exit-quiz" onclick="closeQuiz()">â† é€€å‡ºç»ƒä¹ </button>
        </div>
        
        <div class="quiz-container">
            <div class="word-display" id="quizWordBox" onclick="playQuizAudio()">
                <h1 class="current-word"><span id="quizWordText">Word</span> ğŸ”Š</h1>
                <div style="font-size:0.8rem; color:#999; margin-top:10px;">ç‚¹å‡»å•è¯å‘éŸ³</div>
            </div>

            <div class="options-grid" id="quizOptionsContainer"></div>
            
            <div style="margin-top:20px;">
                <button onclick="nextQuizWord()" style="background:none; border:none; color:var(--primary-color); cursor:pointer;">è·³è¿‡æ­¤è¯</button>
            </div>
        </div>
    </div>

<script>
    // 1. ç»Ÿä¸€çš„æ•°æ®æº
    const vocabularyList = [
        { 
            word: "January", 
            phonetic: "/ËˆdÊ’Ã¦njueri/", 
            meaning: "ä¸€æœˆ", 
            context: "å®¶ç‰›ç”Ÿåœ¨ä¸€æœˆ<br>ç¼©å†™ Janã€‚æ–°çš„ä¸€å¹´å¼€å§‹ï¼Œé€šå¸¸ä¼šæœ‰ Kick-off meeting (å¯åŠ¨ä¼š)ã€‚" 
        },
        { 
            word: "February", 
            phonetic: "/Ëˆfebrueri/", 
            meaning: "äºŒæœˆ", 
            context: "äºŒä¸¤æ¨ª<br>ç¼©å†™ Febã€‚æœ€çŸ­çš„ä¸€ä¸ªæœˆã€‚æ³¨æ„é—°å¹´ (Leap Year) æœ‰ 29 å¤©ã€‚" 
        },
        { 
            word: "March", 
            phonetic: "/mÉ‘ËrtÊƒ/", 
            meaning: "ä¸‰æœˆ", 
            context: "å€’3æ˜¯ä¸‰æœˆ<br>ç¼©å†™ Marã€‚ç¬¬ä¸€å­£åº¦ (Q1) çš„æœ€åä¸€ä¸ªæœˆï¼Œé€šå¸¸è¦èµ¶å­£åº¦ç›®æ ‡ã€‚" 
        },
        { 
            word: "April", 
            phonetic: "/ËˆeÉªprÉ™l/", 
            meaning: "å››æœˆ", 
            context: "A4<br>ç¼©å†™ Aprã€‚ç¬¬äºŒå­£åº¦ (Q2) å¼€å§‹ã€‚ä¹Ÿå°±æ˜¯æ„šäººèŠ‚ (April Fools') çš„æœˆä»½ã€‚" 
        },
        { 
            word: "May", 
            phonetic: "/meÉª/", 
            meaning: "äº”æœˆ", 
            context: "ç¾ï¼ŒåŠ³åŠ¨èŠ‚æœ€ç¾æ˜¯äº”æœˆ<br>ç¼©å†™ Mayã€‚åŠ³åŠ¨èŠ‚å‡æœŸã€‚ä»£ç å‘å¸ƒå‰è®°å¾—æ£€æŸ¥æ—¥æœŸã€‚" 
        },
        { 
            word: "June", 
            phonetic: "/dÊ’uËn/", 
            meaning: "å…­æœˆ", 
            context: "èšå‘¢ å…­æœˆå„¿ç«¥èŠ‚<br>ç¼©å†™ Junã€‚åŠå¹´ç»“æŸ (Half-year)ï¼Œé€šå¸¸ä¼šæœ‰å¹´ä¸­æ€»ç»“ (Mid-year review)ã€‚" 
        },
        { 
            word: "July", 
            phonetic: "/dÊ’ÊŠËˆlaÉª/", 
            meaning: "ä¸ƒæœˆ", 
            context: "â€œä¸ƒæœˆâ€å°±æ¥<br>ç¼©å†™ Julã€‚ä¸‹åŠå¹´ (H2) å¼€å§‹ã€‚å¾ˆå¤šå›½å¤–åŒäº‹ä¼šå»ä¼‘å‡ã€‚" 
        },
        { 
            word: "August", 
            phonetic: "/ËˆÉ”ËÉ¡É™st/", 
            meaning: "å…«æœˆ", 
            context: "å…«æœˆçƒ­ï¼Œå¹å¥¥æ–¯ç‰¹ç©ºè°ƒ<br>ç¼©å†™ Augã€‚ç››å¤ï¼Œé€šå¸¸æ˜¯ä¸šåŠ¡æ·¡å­£ï¼Œé€‚åˆåšæŠ€æœ¯é‡æ„ã€‚" 
        },
        { 
            word: "September", 
            phonetic: "/sepËˆtembÉ™r/", 
            meaning: "ä¹æœˆ", 
            context: "ä¹æœˆå¼€å­¦çœ¼ç›æ¶©<br>ç¼©å†™ Sepã€‚ç¬¬ä¸‰å­£åº¦ (Q3) ç»“æŸã€‚å­¦ç”Ÿå¼€å­¦ï¼Œæµé‡é«˜å³°æœŸã€‚" 
        },
        { 
            word: "October", 
            phonetic: "/É‘ËkËˆtoÊŠbÉ™r/", 
            meaning: "åæœˆ", 
            context: "åæœˆğŸˆé£<br>ç¼©å†™ Octã€‚ç¬¬å››å­£åº¦ (Q4) å¼€å§‹ï¼Œè¿›å…¥å¹´åº•å†²åˆºé˜¶æ®µã€‚" 
        },
        { 
            word: "November", 
            phonetic: "/noÊŠËˆvembÉ™r/", 
            meaning: "åä¸€æœˆ", 
            context: "NO NO åä¸€æœˆ<br>ç¼©å†™ Novã€‚æ„Ÿæ©èŠ‚å’Œé»‘è‰²æ˜ŸæœŸäº”ï¼Œç”µå•†ç³»ç»Ÿå‹åŠ›æœ€å¤§çš„æ—¶å€™ã€‚" 
        },
        { 
            word: "December", 
            phonetic: "/dÉªËˆsembÉ™r/", 
            meaning: "åäºŒæœˆ", 
            context: "ä¸€å¹´åˆ° åº• åäºŒæœˆ<br>ç¼©å†™ Decã€‚å¹´åº•æ€»ç»“ (Year-end summary) å’Œåœ£è¯èŠ‚å‡æœŸã€‚" 
        }
    ];

    const memorizedList = [
        { word: "Transformer", phonetic: "/trÃ¦nsËˆfÉ”ËrmÉ™r/", meaning: "å˜å‹å™¨/å˜å½¢é‡‘åˆš/AIæ¶æ„", context: "ç°ä»£ AI çš„åŸºçŸ³ã€‚ç°åœ¨çš„ ChatGPT, BERT å…¨æ˜¯åŸºäº Transformer æ¶æ„çš„ã€‚" },
        { word: "Token", phonetic: "/ËˆtoÊŠkÉ™n/", meaning: "ä»¤ç‰Œ / è¯å…ƒ", context: "AI æ˜¯æŒ‰ Token è®¡è´¹çš„ã€‚å¤§æ¦‚ 1000 ä¸ª Token ç­‰äº 750 ä¸ªè‹±æ–‡å•è¯ã€‚" },
        { word: "Repository", phonetic: "/rÉªËˆpÉ‘ËzÉ™tÉ”Ëri/", meaning: "ä»“åº“", context: "ç®€ç§° Repoã€‚è¿™æ˜¯é¡¹ç›®åœ¨ GitHub ä¸Šçš„'å®¶'ï¼Œå­˜æ”¾æ‰€æœ‰ä»£ç ã€æ–‡ä»¶ä»¥åŠä¿®æ”¹å†å²çš„åœ°æ–¹ã€‚" },
        { word: "Inference", phonetic: "/ËˆÉªnfÉ™rÉ™ns/", meaning: "æ¨ç†", context: "ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹æˆ–ç”Ÿæˆå†…å®¹çš„è¿‡ç¨‹ã€‚" },
        { word: "Explore", phonetic: "/ÉªkËˆsplÉ”Ër/", meaning: "æ¢ç´¢", context: "å¸¸ç”¨å¯¼èˆªèœå•ã€‚ç‚¹å‡»å®ƒï¼Œä½ å¯ä»¥å‘ç° GitHub æˆ– Hugging Face ä¸Šç›®å‰æœ€çƒ­é—¨ã€æœ€è¶‹åŠ¿ (Trending) çš„é¡¹ç›®å’Œæ¨¡å‹ã€‚" },
        { word: "Browse", phonetic: "/braÊŠz/", meaning: "æµè§ˆ", context: "å¸¸ç”¨æ“ä½œã€‚æ¯”å¦‚ 'Browse Files' (æµè§ˆæ–‡ä»¶) æ¥æŸ¥çœ‹ä»£ç åº“çš„ç»“æ„ï¼Œæˆ–è€…åœ¨é¦–é¡µéšæ„ç¿»é˜…å¯»æ‰¾æ„Ÿå…´è¶£çš„æ¨¡å‹ã€‚" },
        { word: "Hugging", phonetic: "/ËˆhÊŒÉ¡ÉªÅ‹/", meaning: "æ‹¥æŠ±", context: "å“ç‰Œå Hugging Face çš„å‰åŠéƒ¨åˆ†ã€‚Logo æ˜¯ä¸€ä¸ªå¼ å¼€åŒæ‰‹æ‹¥æŠ±çš„ç¬‘è„¸ ğŸ¤—ï¼Œä»£è¡¨å¼€æºç¤¾åŒºçš„å‹å¥½äº’åŠ©ã€‚" },
        { word: "Face", phonetic: "/feÉªs/", meaning: "è„¸", context: "å“ç‰Œå Hugging Face çš„ååŠéƒ¨åˆ†ã€‚åœ¨ AI é¢†åŸŸï¼Œä½ ä¹Ÿç»å¸¸ä¼šå¬åˆ° 'Face Detection' (äººè„¸è¯†åˆ«) è¿™ä¸ªè¯ã€‚" },
        { word: "Language", phonetic: "/ËˆlÃ¦Å‹É¡wÉªdÊ’/", meaning: "è¯­è¨€", context: "ç½‘ç«™æ ¸å¿ƒç­›é€‰æ¡ä»¶ã€‚è™½ç„¶ç•Œé¢ä¸Šå¸¸æ˜¾ç¤ºå¤æ•° Languagesï¼Œä½†å•æ•°æŒ‡å…·ä½“çš„æŸä¸€ç§è¯­è¨€ï¼ˆå¦‚ Chinese, Pythonï¼‰ã€‚" },
        { word: "Model", phonetic: "/ËˆmÉ‘Ëdl/", meaning: "æ¨¡å‹", context: "å¯¼èˆªæ ç¬¬ä¸€é¡¹ã€‚ç‚¹å‡»è¿™é‡Œæµè§ˆæ‰€æœ‰å¯ä¸‹è½½çš„ AI æ¨¡å‹åº“ï¼ˆå¦‚ Llama, BERTï¼‰ã€‚" },
        { word: "Dataset", phonetic: "/ËˆdeÉªtÉ™set/", meaning: "æ•°æ®é›†", context: "AI çš„'ç²®é£Ÿ'ã€‚è¿™é‡Œæœ‰æµ·é‡ç”¨äºè®­ç»ƒæ¨¡å‹çš„æ–‡æœ¬ã€å›¾ç‰‡å’ŒéŸ³é¢‘æ•°æ®ã€‚" },
        { word: "Space", phonetic: "/speÉªs/", meaning: "ç©ºé—´ / åº”ç”¨å±•ç¤º", context: "åœ¨çº¿è¿è¡Œ AI çš„åœ°æ–¹ã€‚ä¸éœ€è¦å†™ä»£ç ï¼Œç‚¹è¿›å»å°±èƒ½ç›´æ¥ç©å„ç§ AI Demoã€‚" },
        { word: "Community", phonetic: "/kÉ™ËˆmjuËnÉ™ti/", meaning: "ç¤¾åŒº", context: "è®¨è®ºåŒºã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæé—®ã€å‚ä¸è®¨è®ºï¼Œæˆ–è€…æŸ¥çœ‹æœ€æ–°çš„å¼€æºæ´»åŠ¨ã€‚" },
        { word: "Docs", phonetic: "/dÉ‘Ëks/", meaning: "æ–‡æ¡£ (Documentation)", context: "è¯´æ˜ä¹¦ã€‚ä¸æ‡‚ä»£ç æ€ä¹ˆå†™ï¼Ÿä¸æ‡‚ API æ€ä¹ˆè°ƒï¼ŸæŠ€æœ¯é—®é¢˜çš„ç­”æ¡ˆå…¨åœ¨è¿™é‡Œã€‚" },
        { word: "Enterprise", phonetic: "/ËˆentÉ™rpraÉªz/", meaning: "ä¼ä¸šç‰ˆ", context: "ç»™å…¬å¸ç”¨çš„ä»˜è´¹æœåŠ¡ã€‚æä¾›æ›´é«˜çº§çš„æ•°æ®å®‰å…¨ä¿æŠ¤å’Œä¸“å±æŠ€æœ¯æ”¯æŒã€‚" },
        { word: "Pricing", phonetic: "/ËˆpraÉªsÉªÅ‹/", meaning: "å®šä»· / ä»·æ ¼", context: "æƒ³çŸ¥é“ç§Ÿ GPU è·‘æ¨¡å‹è¦å¤šå°‘é’±ï¼Ÿæˆ–è€…å‡çº§ Pro ä¼šå‘˜è¦å¤šå°‘é’±ï¼Ÿçœ‹è¿™é‡Œã€‚" },
        { word: "Log In", phonetic: "/lÉ”ËÉ¡ Éªn/", meaning: "ç™»å½•", context: "è¿›å…¥è´¦æˆ·ã€‚å¦‚æœä½ å·²ç»æ³¨å†Œè¿‡è´¦å·äº†ï¼Œç‚¹è¿™ä¸ªæŒ‰é’®ã€‚" },
        { word: "Sign Up", phonetic: "/saÉªn ÊŒp/", meaning: "æ³¨å†Œ", context: "åˆ›å»ºæ–°è´¦æˆ·ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥ï¼Œæ²¡æœ‰è´¦å·ï¼Œç‚¹è¿™ä¸ªæŒ‰é’®ã€‚" }
    ];

    // å…¨å±€å˜é‡
    const globalAudio = new Audio();
    const container = document.getElementById('card-container');
    const memorizedContainer = document.getElementById('memorized-card-container');

    // --- 2. åˆå§‹åŒ–æ¸²æŸ“å‡½æ•° ---
    function renderCards() {
        const setup = (list, target) => {
            list.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                // å¢åŠ æ ‡è¯†ç±»åï¼Œæ–¹ä¾¿åç»­é«˜äº®æŸ¥æ‰¾
                card.setAttribute('data-word', item.word); 
                card.innerHTML = `
                    <div class="word-header"><span class="word-text">${item.word}</span> <small>${item.phonetic}</small></div>
                    <div class="meaning">${item.meaning}</div>
                    <div class="context">ğŸ’¡ ${item.context}</div>
                `;
                card.onclick = () => {
                    playAudio(item.word);
                    card.classList.add('playing');
                    setTimeout(() => card.classList.remove('playing'), 500);
                };
                target.appendChild(card);
            });
        };
        renderCards.clear = () => { container.innerHTML = ''; memorizedContainer.innerHTML = ''; };
        setup(vocabularyList, container);
        setup(memorizedList, memorizedContainer);
    }

    // --- 3. æ ¸å¿ƒæ’­æ”¾é€»è¾‘ ---
    function playAudio(word) {
        // ä½¿ç”¨æœ‰é“è¯å…¸æ¥å£
        // type=2: ç¾å¼å‘éŸ³ (æ‚¨çš„éœ€æ±‚)
        // type=1: è‹±å¼å‘éŸ³
        const audioUrl = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(word)}&type=2`;

        globalAudio.src = audioUrl;
        globalAudio.play().catch(e => console.log("æ’­æ”¾å°è¯•"));
    }

    // --- 4. éšæœºå¾ªç¯æ’­æ”¾é€»è¾‘ (ä¿®å¤é‡ç‚¹) ---
    const loopBtn = document.getElementById('loop-play-btn');
    let isLooping = false;
    let loopTimer = null;
    let shuffledList = [];
    let currentIndex = 0;
    let repeatCount = 0;

    loopBtn.onclick = () => {
        if (isLooping) {
            stopLoop();
        } else {
            globalAudio.load(); // æ¿€æ´»ç§»åŠ¨ç«¯éŸ³é¢‘æƒé™
            startLoop();
        }
    };

    function startLoop() {
        isLooping = true;
        loopBtn.classList.add('active');
        loopBtn.querySelector('.text').innerText = "åœæ­¢æ’­æ”¾";
        loopBtn.querySelector('.icon').innerText = "â¹";

        // åªæ´—ç‰Œä¸»åˆ—è¡¨ï¼ˆæœˆä»½ï¼‰
        shuffledList = [...vocabularyList].sort(() => Math.random() - 0.5);
        currentIndex = 0;
        repeatCount = 0;
        playNextInLoop();
    }

    function stopLoop() {
        isLooping = false;
        clearTimeout(loopTimer);
        loopBtn.classList.remove('active');
        loopBtn.querySelector('.text').innerText = "éšæœºå¾ªç¯æ’­æ”¾";
        loopBtn.querySelector('.icon').innerText = "ğŸ”€";
        document.querySelectorAll('.card').forEach(c => c.classList.remove('auto-playing'));
    }

    function playNextInLoop() {
        if (!isLooping) return;

        if (currentIndex >= shuffledList.length) {
            shuffledList = [...vocabularyList].sort(() => Math.random() - 0.5);
            currentIndex = 0;
        }

        const item = shuffledList[currentIndex];
        playAudio(item.word);
        
        // è§†è§‰é«˜äº®
        document.querySelectorAll('.card').forEach(c => c.classList.remove('auto-playing'));
        const activeCard = container.querySelector(`[data-word="${item.word}"]`);
        if (activeCard) {
            activeCard.classList.add('auto-playing');
            activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        repeatCount++;
        if (repeatCount >= 3) {
            repeatCount = 0;
            currentIndex++;
        }

        loopTimer = setTimeout(playNextInLoop, 2500);
    }

    // --- 5. èƒŒå•è¯æ¨¡å¼åˆ‡æ¢ (æ–‡ä»¶2) ---
    let currentQuizWord = null;
    let quizAnswered = false;

    function openQuiz() {
        stopLoop(); // è¿›å…¥èƒŒå•è¯æ¨¡å¼æ—¶è‡ªåŠ¨åœæ­¢å¾ªç¯æ’­æ”¾
        document.getElementById('quiz-overlay').style.display = 'flex';
        nextQuizWord();
    }

    function closeQuiz() {
        document.getElementById('quiz-overlay').style.display = 'none';
    }

    function nextQuizWord() {
        quizAnswered = false;
        const qContainer = document.getElementById('quizOptionsContainer');
        qContainer.innerHTML = '';
        
        const allWords = [...vocabularyList, ...memorizedList];
        currentQuizWord = allWords[Math.floor(Math.random() * allWords.length)];
        document.getElementById('quizWordText').innerText = currentQuizWord.word;

        let distractors = allWords.filter(w => w.word !== currentQuizWord.word)
                                  .sort(() => Math.random() - 0.5).slice(0, 3);
        let options = [...distractors, currentQuizWord].sort(() => Math.random() - 0.5);

        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt.meaning;
            btn.onclick = () => {
                if(quizAnswered) return;
                if(opt.word === currentQuizWord.word) {
                    btn.classList.add('correct');
                    quizAnswered = true;
                    playAudio(currentQuizWord.word);
                    setTimeout(nextQuizWord, 1200);
                } else {
                    btn.classList.add('wrong');
                }
            };
            qContainer.appendChild(btn);
        });
    }

    // --- 6. å…¶ä»– UI äº‹ä»¶ ---
    document.getElementById('toggle-memorized-btn').onclick = function() {
        const target = document.getElementById('memorized-card-container');
        if(target.style.maxHeight === '0px' || !target.style.maxHeight) {
            target.style.maxHeight = '2000px';
        } else {
            target.style.maxHeight = '0px';
        }
    };

    function playQuizAudio() { if(currentQuizWord) playAudio(currentQuizWord.word); }

    // æ‰§è¡Œåˆå§‹åŒ–
    renderCards();
</script>
</body>
</html>